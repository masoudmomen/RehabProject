@page "/login"
@using Microsoft.AspNetCore.Components.Authorization
@using Rehab.EndPoint.AdminPanel.Components.Layout
@layout BlankLayout
@rendermode InteractiveServer
@inject AuthenticationStateProvider AuthStateProvider
@inject NavigationManager Nav

<h1>login page</h1>
<button @onclick="logintest">login</button>


 <Microsoft.AspNetCore.Components.Authorization.AuthorizeView>
                <Authorized>
            <div class="row  bg-light rounded p-2 mx-0 ">
                ok ok
            </div>
                </Authorized>
                <NotAuthorized>
                    <div>no ok</div>
                </NotAuthorized>
            </Microsoft.AspNetCore.Components.Authorization.AuthorizeView>
@code {
    private void logintest()
    {
        var customAuth = (CustomAuthStateProvider)AuthStateProvider;
        customAuth.MarkUserAsAuthenticated("admin");

        // Nav.NavigateTo("/", true);
    }
}
