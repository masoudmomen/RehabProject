@using Rehab.EndPoint.AdminPanel.Viewmodels
@rendermode InteractiveServer 
   
@if (IsVisible)
{
    <div class="modal-backdrop">
        <div class="modal-content-facilityDetail" >
            <button type="button" class="btn-close float-end" @onclick="Close" ></button>
            @if (Model is not null)
            {
                <h3>@Model.Name</h3>
                <hr />
                <div class="bg-light rounded  p-4" style="max-height:400px!important;overflow:auto;">
                    <table class="table table-bordered" >
                        <tbody>
                            <tr>
                                <th scope="row">Email</th>
                                <td>@Model.Email</td>
                                <th scope="row">Phone Number</th>
                                <td>@Model.PhoneNumber</td>
                            </tr>
                            <tr>
                                <th scope="row">State</th>
                                <td>@Model.State</td>
                                <th scope="row">City</th>
                                <td>@Model.City</td>
                            </tr>
                            <tr>
                                <th scope="row">WebSite</th>
                                <td>@Model.WebSite</td>
                                <th scope="row">Providers Policy</th>
                                <td>@Model.ProvidersPolicy</td>
                            </tr>
                            <tr>
                                <th scope="row">Founded</th>
                                <td>@Model.Founded</td>
                                <th scope="row">Occupancy</th>
                                <td>@Model.OccupancyMin - @Model.OccupancyMax</td>
                            </tr>
                            <tr>
                                <th scope="row">Address</th>
                                <td>@Model.Address</td>
                                <th scope="row">Description</th>
                                <td>@Model.Description</td>
                            </tr>
                            <tr>
                                <th scope="row">Insurances </th>
                                <td>
                                    @if (Model.Insurances != null && Model.Insurances.Count>0)
                                    {
                                        foreach (var item in Model.Insurances)
                                        {
                                            <div>
                                                <img src="@item.Logo" class=" mx-2" width="20" height="20">
                                                <span>@item.Name</span>
                                            </div>
                                        }
                                    }
                                </td>
                                <th scope="row">Accreditations  </th>
                                <td>
                                    @if (Model.Accreditations != null && Model.Accreditations.Count > 0)
                                    {
                                        foreach (var item in Model.Accreditations)
                                        {
                                            <div>
                                                <img src="@item.Logo" class=" mx-2" width="20" height="20">
                                                <span>@item.Name</span>
                                            </div>
                                        }
                                    }
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">Amenities </th>
                                <td>
                                    @if (Model.Amenities != null && Model.Amenities.Count > 0)
                                    {
                                        foreach (var item in Model.Amenities)
                                        {
                                            <div>
                                                <img src="@item.Logo" class=" mx-2" width="20" height="20">
                                                <span>@item.Name</span>
                                            </div>
                                        }
                                    }
                                </td>
                                <th scope="row">Highlights  </th>
                                <td>
                                    @if (Model.Highlights != null && Model.Highlights.Count > 0)
                                    {
                                        foreach (var item in Model.Highlights)
                                        {
                                            <div>
                                                <img src="@item.Logo" class=" mx-2" width="20" height="20">
                                                <span>@item.Name</span>
                                            </div>
                                        }
                                    }
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">Who We Treat </th>
                                <td>
                                    @if (Model.Wwts != null && Model.Wwts.Count > 0)
                                    {
                                        foreach (var item in Model.Wwts)
                                        {
                                            <div>
                                                <img src="@item.Logo" class=" mx-2" width="20" height="20">
                                                <span>@item.Name</span>
                                            </div>
                                        }
                                    }
                                </td>
                                <th scope="row">LevelsOfCares   </th>
                                <td>
                                    @if (Model.Locs != null && Model.Locs.Count > 0)
                                    {
                                        foreach (var item in Model.Locs)
                                        {
                                            <div>
                                                <img src="@item.Logo" class=" mx-2" width="20" height="20">
                                                <span>@item.Name</span>
                                            </div>
                                        }
                                    }
                                </td>
                            </tr>
                            <tr>
                                <th scope="row" >Treatments </th>
                                <td colspan="3">
                                    @if (Model.Treatments != null && Model.Treatments.Count > 0)
                                    {
                                        foreach (var item in Model.Treatments)
                                        {
                                            <div>
                                                <img src="@item.Logo" class=" mx-2" width="20" height="20">
                                                <span>@item.Name</span>
                                            </div>
                                        }
                                    }
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            }
        </div>
    </div>
}



@code {
    [Parameter] public FacilityViewmodel? Model { get; set; }


    public bool IsVisible { get; set; }

    public void Show()
    {
        IsVisible = true;
        InvokeAsync(StateHasChanged);
    }
    public void Close()
    {
        IsVisible = false;
        InvokeAsync(StateHasChanged);
    }
}
